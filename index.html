<div class="sticky-header">
  <h1>Picross (Nonogram) Game</h1>
  <button id="help-btn" style="font-size: 16px; padding: 6px 14px; margin: 10px 0;">How to Play ‚ùì</button>
  <p style="font-size: 14px;">Left-click: Fill | Right-click: Mark Empty</p>
  <p style="font-size: 12px; color: #666; margin: 5px 0;">Each puzzle is guaranteed to have a unique solution. Larger grids (20x20+) may take a moment to generate.</p>
  <button id="dark-mode-btn" style="font-size: 12px; padding: 2px 8px; margin-right: 5px;">Dark Mode üåô</button>
  <button id="leaderboard-btn" style="font-size: 12px; padding: 2px 8px;">üèÜ Records</button>
</div>
<div>
  <label for="grid-size">Grid Size:</label>
  <select id="grid-size">
    <option value="5x5" selected>5x5</option>
    <option value="5x10">5x10</option>
    <option value="10x10">10x10</option>
    <option value="10x15">10x15</option>
    <option value="15x15">15x15</option>
    <option value="15x20">15x20</option>
    <option value="20x20">20x20</option>
    <option value="20x25">20x25</option>
    <option value="25x25">25x25</option>
  </select>
  <button id="reset-btn">Restart Game</button>
</div>
<div id="message"></div>
<div id="streak" style="font-size: 14px; margin: 5px 0; font-weight: bold;"></div>
<table id="picross-grid"></table>

<!-- Help Modal -->
<div id="help-modal" style="display: none;">
  <div id="help-content">
    <button id="close-help" style="float: right; font-size: 20px; border: none; background: none; cursor: pointer;">√ó</button>
    <h2>How to Play Picross</h2>
    <p><strong>Goal:</strong> Fill in cells to reveal a hidden picture based on the number clues.</p>
    
    <h3>Understanding the Clues</h3>
    <ul>
      <li><strong>Numbers on the left (rows):</strong> Show groups of consecutive filled cells in that row</li>
      <li><strong>Numbers on top (columns):</strong> Show groups of consecutive filled cells in that column</li>
      <li>Multiple numbers mean multiple separate groups with at least one empty cell between them</li>
    </ul>
    
    <h3>Example</h3>
    <p>If a row shows "3 1", it means there's a group of 3 filled cells, then at least one empty cell, then 1 filled cell.</p>
    <p>If a column shows "5", there are 5 consecutive filled cells somewhere in that column.</p>
    
    <h3>Controls</h3>
    <ul>
      <li><strong>Left-click:</strong> Fill a cell black (if wrong, game over!)</li>
      <li><strong>Right-click:</strong> Mark a cell as empty (grey) to help you solve</li>
      <li><strong>Click and drag:</strong> Fill or mark multiple cells in a row/column</li>
    </ul>
    
    <h3>Strategy Tips</h3>
    <ul>
      <li>Start with rows/columns that have large numbers or are mostly filled</li>
      <li>Mark cells you know are empty with right-click to avoid mistakes</li>
      <li>Look for overlaps - where all possible solutions share filled cells</li>
      <li>Work between rows and columns to narrow down possibilities</li>
    </ul>
    
    <p><strong>Remember:</strong> One wrong black cell and it's game over! Take your time and use grey marks strategically.</p>
  </div>
</div>

<!-- Leaderboard Modal -->
<div id="leaderboard-modal" style="display: none;">
  <div id="leaderboard-content">
    <button id="close-leaderboard" style="float: right; font-size: 20px; border: none; background: none; cursor: pointer;">√ó</button>
    <h2>üèÜ Personal Best Times</h2>
    <div id="leaderboard-content-data"></div>
  </div>
</div>
